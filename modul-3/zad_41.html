<a href="../modul-3/index.html"><h1>Модуль - 03</h1></a>
<h2>Задача - 41. Расширяем инвентарь.</h2>
<a href="../modul-3/zad_40.html">&lt; &lt;Предыдущая задача</a>
<a href="../modul-4/zad_01.html">Cледующая задача&gt;&gt;</a>
<details closed="">
  <summary style="color: teal">Решение</summary>
  <h3 style="color: tomato">
    Внимание, <code>toLowerCase()</code> не учтено. Будет добавлно позже
  </h3>
  <pre><code>
  const atTheOldToad = {
    potions: [
      { name: "Зелье скорости", price: 460 },
      { name: "Дыхание дракона", price: 780 },
      { name: "Каменная кожа", price: 520 },
    ],
    // Пиши код ниже этой строки
    getPotions() {
      return this.potions;
    },
    addPotion(potionName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(potionName.name)) {
          return `Зелье ${potionName.name} уже есть в инвентаре!`;
        }
      }
      this.potions.push(potionName);
      return `Зелье ${potionName.name} успешно добавлено!`;
      //return this.potions;
    },
    removePotion(potionName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(potionName)) {
          this.potions.splice(key, 1);
          return `Зелье ${potionName} удалено!`;
        }
      }
      return `Зелья ${potionName} нет в инвентаре!`;
    },
    updatePotionName(oldName, newName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(oldName)) {
          this.potions[key].name = newName;
          return `Название зелья ${oldName} заменено на ${newName}!`;
        }
      }
      return `Зелья ${oldName} нет в инвентаре!`;
    },
    // Пиши код выше этой строки
  };
  //console.log(atTheOldToad.getPotions());
  console.log(atTheOldToad.addPotion({ name: "Невидимка", price: 620 }));
  console.log(atTheOldToad.addPotion({ name: "Невидимка", price: 620 }));
  console.log(atTheOldToad.removePotion("Дыхание дракона"));
  console.log(atTheOldToad.removePotion("Дыхание дракона"));
  console.log(
    atTheOldToad.updatePotionName("Каменная кожа", "Зелье неуязвимости")
  );
  console.log(
    atTheOldToad.updatePotionName("Каменная кожа", "Зелье неуязвимости")
  );
</code></pre>
</details>
<script>
  const atTheOldToad = {
    potions: [
      { name: "Зелье скорости", price: 460 },
      { name: "Дыхание дракона", price: 780 },
      { name: "Каменная кожа", price: 520 },
    ],
    // Пиши код ниже этой строки
    getPotions() {
      return this.potions;
    },
    addPotion(potionName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(potionName.name)) {
          return `Зелье ${potionName.name} уже есть в инвентаре!`;
        }
      }
      this.potions.push(potionName);
      return `Зелье ${potionName.name} успешно добавлено!`;
      //return this.potions;
    },
    removePotion(potionName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(potionName)) {
          this.potions.splice(key, 1);
          return `Зелье ${potionName} удалено!`;
        }
      }
      return `Зелья ${potionName} нет в инвентаре!`;
    },
    updatePotionName(oldName, newName) {
      for (key of Object.keys(this.potions)) {
        if (this.potions[key].name.includes(oldName)) {
          this.potions[key].name = newName;
          return `Название зелья ${oldName} заменено на ${newName}!`;
        }
      }
      return `Зелья ${oldName} нет в инвентаре!`;
    },
    // Пиши код выше этой строки
  };
  //console.log(atTheOldToad.getPotions());
  console.log(atTheOldToad.addPotion({ name: "Невидимка", price: 620 }));
  console.log(atTheOldToad.addPotion({ name: "Невидимка", price: 620 }));
  console.log(atTheOldToad.removePotion("Дыхание дракона"));
  console.log(atTheOldToad.removePotion("Дыхание дракона"));
  console.log(
    atTheOldToad.updatePotionName("Каменная кожа", "Зелье неуязвимости")
  );
  console.log(
    atTheOldToad.updatePotionName("Каменная кожа", "Зелье неуязвимости")
  );
</script>
<section class="MainPage_wrapper_TheoryAndTaskOrLayout__1p_NY">
  <section class="TheoryAndTaskOrLayout_wrapper__V3M7H">
    <div class="TheoryAndTaskOrLayout_theoryAndTask_container__rT5dX">
      <h3 class="task">Задание</h3>
      <p>
        Заказчица хочет чтобы каждое зелье было представлено не только именем,
        но и ценой, а в будущем может быть и другими характеристиками. Поэтому
        теперь в свойстве <code>potions</code> будет храниться массив объектов
        со следующими свойствами.
      </p>
      <pre><code class="language-shell hljs">{
  name: 'Дыхание дракона',
  price: 700
}
</code></pre>
      <p>
        Выполни рефакторинг методов объекта <code>atTheOldToad</code> так, чтобы
        они работали не с массивом строк, а с массивом объектов.
      </p>
      <ul>
        <li>
          <code>getPotions()</code> - метод для получения всех зелий. Возвращает
          значение свойства <code>potions</code>.
        </li>
        <li>
          <code>addPotion(newPotion)</code> - добавляет зелье
          <code>newPotion</code> (уже объект) в массив в свойстве
          <code>potions</code>.
        </li>
        <li>
          <code>removePotion(potionName)</code> - удаляет объект зелья с именем
          <code>potionName</code> из массива в свойстве <code>potions</code>.
        </li>
        <li>
          <code>updatePotionName(oldName, newName)</code> - обновляет свойство
          <code>name</code> объекта-зелья с названием <code>oldName</code> на
          <code>newName</code> в массиве <code>potions</code>.
        </li>
      </ul>
      <h3 class="test">Тесты</h3>
      <ul>
        <li>Объявлена переменная <code>atTheOldToad</code>.</li>
        <li>Значение переменной <code>atTheOldToad</code> это объект.</li>
        <li>
          Значение свойства <code>atTheOldToad.getPotions</code> это метод
          объекта.
        </li>
        <li>
          Вызов метода <code>atTheOldToad.getPotions()</code> для исходного
          объекта возвращает
          <code
            >[ { name: 'Зелье скорости', price: 460 }, { name: 'Дыхание
            дракона', price: 780 }, { name: 'Каменная кожа', price: 520 }
            ]</code
          >.
        </li>
        <li>
          Значение свойства <code>atTheOldToad.addPotion</code> это метод
          объекта.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code>atTheOldToad.addPotion({ name: 'Невидимка', price: 620 })</code
          >, в массиве <code>potions</code> последним элементом будет этот
          объект.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code>atTheOldToad.addPotion({ name: 'Зелье силы', price: 270 })</code
          >, в массиве <code>potions</code> последним элементом будет этот
          объект.
        </li>
        <li>
          Значение свойства <code>atTheOldToad.removePotion</code> это метод
          объекта.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code>atTheOldToad.removePotion('Дыхание дракона')</code>, в свойстве
          <code>potions</code> будет массив
          <code
            >[ { name: 'Зелье скорости', price: 460 }, { name: 'Каменная кожа',
            price: 520 } ]</code
          >.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code>atTheOldToad.removePotion('Зелье скорости')</code>, в свойстве
          <code>potions</code> будет массив
          <code
            >[ { name: 'Дыхание дракона', price: 780 }, { name: 'Каменная кожа',
            price: 520 } ]</code
          >.
        </li>
        <li>
          Значение свойства <code>atTheOldToad.updatePotionName</code> это метод
          объекта.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code
            >atTheOldToad.updatePotionName('Дыхание дракона', 'Полиморф')</code
          >, в свойстве <code>potions</code> будет массив
          <code
            >[ { name: 'Зелье скорости', price: 460 }, { name: 'Полиморф',
            price: 780 }, { name: 'Каменная кожа', price: 520 } ]</code
          >.
        </li>
        <li>
          Для исходного объекта после вызова метода
          <code
            >atTheOldToad.updatePotionName('Каменная кожа', 'Зелье
            неуязвимости')</code
          >, в свойстве <code>potions</code> будет массив
          <code
            >[ { name: 'Зелье скорости', price: 460 }, { name: 'Дыхание
            дракона', price: 780 }, { name: 'Зелье неуязвимости', price: 520 }
            ]</code
          >.
        </li>
      </ul>
    </div>
  </section>
</section>
